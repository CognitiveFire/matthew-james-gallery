# Gmail Email Setup Guide

## Overview
The contact form is now integrated with Gmail SMTP using Nodemailer to send professional emails when customers submit inquiries. This guide will help you set up the necessary environment variables.

## Required Environment Variables

You need to set up the following environment variables in your Railway deployment:

### 1. GMAIL_USER
- **Purpose**: Your Gmail email address
- **Example**: `matthew@gmail.com` or `matthew@yourdomain.com`
- **Note**: This should be the Gmail account you want to send emails from

### 2. GMAIL_APP_PASSWORD
- **Purpose**: Gmail App Password (NOT your regular Gmail password)
- **Format**: 16-character password generated by Google
- **How to get it**:
  1. Enable 2-Factor Authentication on your Gmail account
  2. Go to Google Account settings â†’ Security
  3. Under "2-Step Verification", click "App passwords"
  4. Generate a new app password for "Mail"
  5. Copy the 16-character password (no spaces)

### 3. GALLERY_EMAIL (Optional)
- **Purpose**: Email address where inquiries will be sent
- **Example**: `matthew@matthewjamesgallery.com`
- **Note**: If not set, inquiries will be sent to GMAIL_USER

## Setting Up Environment Variables in Railway

1. **Go to your Railway project dashboard**
2. **Click on your service**
3. **Go to the "Variables" tab**
4. **Add the following variables**:
   ```
   GMAIL_USER=your-gmail@gmail.com
   GMAIL_APP_PASSWORD=your-16-character-app-password
   GALLERY_EMAIL=matthew@matthewjamesgallery.com
   ```

## Gmail App Password Setup (Step by Step)

### Step 1: Enable 2-Factor Authentication
1. Go to [Google Account Security](https://myaccount.google.com/security)
2. Under "Signing in to Google", click "2-Step Verification"
3. Follow the setup process

### Step 2: Generate App Password
1. Still in Security settings, under "2-Step Verification"
2. Click "App passwords"
3. Select "Mail" as the app
4. Select "Other" as the device and name it "Gallery Website"
5. Click "Generate"
6. Copy the 16-character password (it will look like: `abcd efgh ijkl mnop`)

### Step 3: Use the App Password
- Use this 16-character password as `GMAIL_APP_PASSWORD`
- Do NOT use your regular Gmail password
- Remove any spaces from the password when setting it in Railway

## Testing the Contact Form

Once you've set up the environment variables:

1. **Deploy to Railway** (the environment variables will trigger a new deployment)
2. **Visit your contact page**
3. **Fill out and submit the form**
4. **Check your Gmail** for the inquiry
5. **Check the customer's email** for the confirmation

## Email Features

### Inquiry Email (to Gallery Owner)
- Contains all form data in a professional HTML format
- Includes customer contact information
- Shows selected artwork if applicable
- Reply-to is set to customer's email for easy response

### Confirmation Email (to Customer)
- Professional confirmation message
- Shows a summary of their inquiry
- Available in both English and Norwegian
- Includes gallery website link

## Troubleshooting

### Common Issues:

1. **"Email service not configured"**
   - Check that both GMAIL_USER and GMAIL_APP_PASSWORD are set
   - Ensure there are no extra spaces or characters

2. **"Invalid login" or authentication errors**
   - Verify you're using an App Password, not your regular Gmail password
   - Ensure 2-Factor Authentication is enabled
   - Check that the App Password is exactly 16 characters (no spaces)

3. **Emails not being sent**
   - Check Railway logs for error messages
   - Verify your Gmail account is in good standing
   - Ensure the App Password hasn't expired

4. **Emails going to spam**
   - This is normal for automated emails
   - Consider setting up SPF/DKIM records for your domain
   - Use a professional FROM email address

## Advantages of Gmail SMTP

- **Easier setup**: No API key management
- **Reliable**: Gmail's infrastructure is very stable
- **Free**: No additional costs beyond your Gmail account
- **Familiar**: Uses your existing Gmail account
- **No rate limits**: Gmail has generous sending limits

## Support

If you encounter any issues:
1. Check the Railway deployment logs
2. Verify all environment variables are set correctly
3. Test your Gmail App Password in Gmail settings
4. Ensure your Gmail account is in good standing

The contact form is now fully functional with Gmail and ready for production use! ðŸŽ‰
